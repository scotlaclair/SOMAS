SOMAS Workflow Data SheetStatus: Audited (Mapped to Repo Files)Goal: Map every data point required to script the lifecycle from start to finish.Phase 1: Initiation & Planning (Stages 01-04)This phase operates entirely within the GitHub Issue context.|| Step | Stage ID | Phase Name | GitHub Context | Workflow File (Actual) | Job ID | Trigger Event | Primary Agent | Agent Operation | Task Category | Optimization Metric | Model ID | Prompt Template | Input Data | Output Data | Storage Location | Data Format | Exit Gate (Success) | Next State Label | Failure Label | Retry Policy | Timeout | SLA (Target) | Cost Limit ($) | Token Budget | HITL | Permissions || 1 | 01 | INTAKE | Issue | somas-pipeline.yml | triage | Label: somas:change | triage | analyze_request_type | Analysis | Accuracy | gpt-4o-mini | prompts/triage/classify.md | issue.title, issue.body | Analysis Report | Issue Comment | Markdown | feasibility > 0.7 | somas:stage:02-specify | somas:status:rejected | None | 5m | 30s | $0.05 | 4k | No | issues:write || 2 | 01 | INTAKE | Issue | somas-pipeline.yml | strategy | (Chained) | advisor | check_alignment | Analysis | Relevance | gpt-4o | prompts/advisor/alignment.md | issue.body | Priority Labels | Issue Label | String | score > 0.5 | somas:stage:02-specify | somas:status:on-hold | None | 5m | 45s | $0.10 | 8k | No | issues:write || 3 | 02 | SPECIFY | Issue | somas-orchestrator.yml | specifier | Label: stage:02 | specifier | generate_prd | Generation | Completeness | gpt-4o | prompts/specifier/generate_prd.md | issue.body | docs/specs/ISSUE-{id}.md | Git Repo | Markdown | file_exists | somas:gate:spec-review | somas:status:spec-failed | 3x | 10m | 2m | $0.20 | 16k | No | contents:write || 4 | 02 | SPECIFY | Issue | somas-orchestrator.yml | verify | Label: gate:review | requirements | validate_spec | Verification | Coverage | gpt-4o | prompts/requirements/verify.md | SPEC.md | Validation Results | Issue Comment | Markdown | reqs_clear | somas:stage:03-plan | somas:status:clarify | 1x | 5m | 1m | $0.10 | 12k | Yes | issues:write || 5 | 03 | PLAN | Issue | somas-orchestrator.yml | architect | Label: stage:03 | architect | design_system | Design | Validity | o1-preview | prompts/architect/system_design.md | SPEC.md | docs/arch/{id}-design.md | Git Repo | Markdown | design_valid | (Handover) | somas:status:arch-failed | 3x | 15m | 5m | $0.30 | 32k | No | contents:write || 6 | 03 | PLAN | Issue | somas-orchestrator.yml | simulator | (Chained) | simulator | run_monte_carlo | Simulation | Confidence | gpt-4o-mini | prompts/simulator/monte_carlo.md | design.md | Simulation Probs | Issue Comment | JSON Block | prob > 80% | (Handover) | somas:status:sim-failed | 5x | 20m | 8m | $2.00 | 128k | No | issues:write || 7 | 03 | PLAN | Issue | somas-orchestrator.yml | planner | (Chained) | planner | create_dag | Planning | Efficiency | gpt-4o | prompts/planner/create_dag.md | sim_results | docs/plans/{id}-plan.json | Git Repo | JSON | dag_acyclic | somas:stage:04-decompose | somas:status:plan-failed | 3x | 10m | 2m | $0.15 | 16k | No | contents:write || 8 | 04 | DECOMPOSE | Issue | somas-orchestrator.yml | decomposer | Label: stage:04 | decomposer | gen_tasks | Planning | Granularity | gpt-4o | prompts/decomposer/breakdown.md | plan.json | Atomic Task List | Issue Body (Tasklist) | Markdown | tasks > 0 | somas:stage:05-implement | somas:status:manual | 3x | 10m | 2m | $0.20 | 16k | No | issues:write |Phase 2: Implementation & Verification (Stages 05-08)This phase bridges the Issue (Requirements) and the Pull Request (Code).| Step | Stage ID | Phase Name | GitHub Context | Workflow File (Actual) | Job ID | Trigger Event | Primary Agent | Agent Operation | Task Category | Optimization Metric | Model ID | Prompt Template | Input Data | Output Data | Storage Location | Data Format | Exit Gate (Success) | Next State Label | Failure Label | Retry Policy | Timeout | SLA (Target) | Cost Limit ($) | Token Budget | HITL | Permissions || 9 | 05 | IMPLEMENT | Issue | somas-dev-autonomous.yml | pr-create | Label: stage:05 | implementer | create_pr | Ops | Speed | gpt-3.5-turbo | prompts/implementer/create_pr.md | Task List | PR #{id} | GitHub Pull Request | Git Ref | pr_created | (PR Context) | somas:status:pr-failed | 3x | 5m | 30s | $0.05 | 4k | No | pull-requests:write || 10 | 05 | IMPLEMENT | PR | somas-dev-autonomous.yml | autonomous-dev | Label: stage:05 | implementer | write_code | Generation | Quality | claude-3-5-sonnet | prompts/templates/single_shot_implementer.md | plan.json | Feature Code | Git Branch | Source Code | compile_ok | (Wait) | somas:status:build-failed | 5x | 30m | 10m | $1.50 | 64k | No | contents:write || 11 | 05 | IMPLEMENT | PR | somas-pr-continue.yml | review | synchronize | copilot | review_diff | Review | Precision | gpt-4o | prompts/copilot/review.md | Git Diff | Code Suggestions | PR Review Comment | Markdown | syntax_ok | somas:stage:06-verify | somas:status:changes-req | None | 10m | 2m | $0.20 | 16k | No | pull-requests:write || 12 | 06 | VERIFY | PR | somas-dev-autonomous.yml | test | Label: stage:06 | tester | run_tests | Verification | Coverage | gpt-4o-mini | prompts/tester/generate_tests.md | Source Code | Test Report | Actions Artifact | JUnit XML | pass == 100% | somas:stage:07-integrate | somas:status:test-failed | None | 20m | 5m | $0.00 | N/A | No | checks:write || 13 | 06 | VERIFY | PR | somas-dev-autonomous.yml | heal | test_fail | debugger | self_heal | Remediation | Repair Rate | gpt-4o | prompts/debugger/analyze_traceback.md | JUnit Traceback | Bug Fix Commit | Git Branch | Source Code | retry <= 3 | (Loop) | somas:status:manual | 3x | 15m | 5m | $1.00 | 32k | No | contents:write || 14 | 07 | INTEGRATE | PR | pr-checklist-detector.yml | merge-check | Label: stage:07 | merger | check_conflict | Ops | Stability | git-native | N/A | origin/main | Merge Status | Actions Log | Boolean | conflicts == 0 | (Handover) | somas:status:conflict | None | 5m | 10s | $0.00 | N/A | No | contents:read || 15 | 07 | INTEGRATE | PR | somas-orchestrator.yml | trace | (Chained) | validator | trace_reqs | Verification | Traceability | gpt-4o | prompts/validator/traceability.md | SPEC.md | Traceability Matrix | PR Comment | Markdown | met == 100% | somas:stage:08-harden | somas:status:gap-found | None | 10m | 2m | $0.10 | 16k | No | issues:read || 16 | 08 | HARDEN | PR | pr-security.yml | security | Label: stage:08 | security | run_scans | Verification | Safety | codeql | N/A | Codebase | Security Report | GH Security Tab | SARIF | vuln == 0 | somas:stage:09-release | somas:status:vuln-found | None | 20m | 10m | $0.00 | N/A | No | security-events:write |Phase 3: Release & Operations (Stages 09-11)Finalization and closure loops.| Step | Stage ID | Phase Name | GitHub Context | Workflow File (Actual) | Job ID | Trigger Event | Primary Agent | Agent Operation | Task Category | Optimization Metric | Model ID | Prompt Template | Input Data | Output Data | Storage Location | Data Format | Exit Gate (Success) | Next State Label | Failure Label | Retry Policy | Timeout | SLA (Target) | Cost Limit ($) | Token Budget | HITL | Permissions || 17 | 09 | RELEASE | PR | somas-project-sync.yml | merge | Label: stage:09 | deployer | merge_pr | Ops | Time-to-Merge | git-native | N/A | PR State | Merged Commit | Git Repo (Main) | Git Ref | merged | (Release) | somas:status:merge-fail | 3x | 5m | 30s | $0.00 | N/A | Yes | contents:write || 18 | 09 | RELEASE | Release | somas-project-sync.yml | release | push:main | deployer | pub_release | Ops | Reliability | git-native | N/A | Git Tag | Release Asset | GH Release | Binary/Zip | published | somas:stage:10-operate | somas:status:deploy-fail | 3x | 10m | 2m | $0.00 | N/A | No | contents:write || 19 | 10 | OPERATE | Deploy | somas-orchestrator.yml | monitor | Label: stage:10 | operator | chk_health | Ops | Availability | curl/python | N/A | Live URL | Health Log | Actions Log | Text | 200 OK | somas:stage:11-analyze | somas:status:unhealthy | 5x | 5m | 1m | $0.05 | 2k | No | deployments:write || 20 | 11 | ANALYZE | Issue | somas-meta-capture.yml | metrics | Label: stage:11 | analyzer | gen_metrics | Analysis | Insight Depth | gpt-4o-mini | prompts/analyzer/post_mortem.md | Event Timestamps | Metrics Report | Issue Comment | Markdown | logged | (Handover) | somas:status:meta-fail | None | 5m | 1m | $0.10 | 8k | No | issues:write || 21 | 11 | ANALYZE | Issue | somas-meta-capture.yml | close | (Chained) | documenter | update_kb | Docs | Clarity | gpt-4o | prompts/documenter/changelog.md | Issue Data | Changelog Entry | File: CHANGELOG.md | Markdown | closed | somas:status:completed | somas:status:doc-fail | None | 5m | 1m | $0.20 | 8k | No | contents:write |